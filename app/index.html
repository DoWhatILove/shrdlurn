<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="teach the computer English">
    <title>SHRDLURN</title>
  </head>
  <body>
    <div class="container">
      <div class="panel">
        <div class="canvas-header ch-target">target</div>
        <canvas id="canvastarget" width="650" height="600"></canvas>
        <div class="panel-block">
          possible in <span class="possible_steps" style="font-weight:bold;">0</span> steps<br />
          must be completed in <span class="max_steps" style="font-weight:bold;">100</span> steps
        </div>
        <button class="button button--big panel-block" id="skip_button">skip (<span id="skips_left">2</span> left) &rarr;</button>
        <!-- <div class="panel-block">game points: 0</div> -->
        <div class="panel-block">
          <strong>keyboard shortcuts:</strong><br />
          ↵: enter (try)<br />
          ✓: shift-enter (accept)<br />
          ~: crtl-d (teach)<br />
          ↑: up<br />
          ↓: down<br />
          undo: ctrl-z<br />
          redo: shift-ctrl-z
        </div>
        <div class="panel-block">
          <a href="" class="help-button">Help me</a>
        </div>
        <div class="panel-block">
          <a href="" id="reset_all_progress">reset ALL progress</a>
        </div>
        <div class="panel-block">
          go back to tutorial
        </div>
        <div class="panel-block">
          <strong>SHRDLURN already learned:</strong><br />
          <div id="random_utterances"></div>
        </div>
      </div>
      <div class="main">
        <!-- Canvas -->
        <div class="canvas-header ch-before">before action</div>
        <div class="canvas-header ch-after">after action</div>
        <canvas id="main_canvas" width="1300" height="1200"></canvas>
        <div class="col-info hidden">col 1</div>
        <div class="row-info hidden">row 1</div>
        <div class="col-info-8 hidden">col 8</div>
        <div class="row-info-8 hidden">row 8</div>
        <div class="curr-buttons hidden">
          <button id="clear_button" class="button button--big">clear</button>
          <!-- TODO: Submit! <button id="submit-button" class="button button--big">submit</button> -->
        </div>
        <!-- TODO: REJECT BUTTON! -->
        <div class="meta-actions hidden">
          <button id="flyingaccept" class="button button--solved" ctitle="take this action (shift-enter)">&#x2713;</button>
          <button class="button button--solved" id="paraphrase"
          ctitle="teach SHRDLURN what you mean">~</button>
          <button class="button button--solved (up key)" id="prevbutton"
          ctitle="show previous action">&uarr; </button>
          <button class="button button--solved" id="nextbutton"
          ctitle="show next action (down key)">&darr; </button>
        </div>
        <span id="show_define_status" class="hidden">
          didn't understand. <br/>
          <a href='' id='define_instead' class='define-this'>
            please teach (ctrl-d)!</a>
        </span>

        <!-- Interaction areas -->
        <div id="chat" style="center">
          <div id="statusinfo">
            &nbsp; <span id="reaction"><img class="emojione" alt=":rolling_eyes:" src="http://cdn.jsdelivr.net/emojione/assets/png/1f644.png"></span>
            <span id="currentcmd"><b>No command</b> </span>,
            <span id="status">type one!</span>
          </div>

          <div id="define_interface" class="hidden">
            <span class="b-header"><span id="define_header"></span>
            </span>

            <hr/>
            <div class="define-inputs">
              <input class="awesomplete" type="text" id="definetextarea" placeholder="write a definition here" maxlength="100"/>
              <button class="button button--big" id="define_phrase_button" ctitle="enter definition (enter key)">try it</button>
              <button class="button button--big button--closed" id="close_define_interface"  ctitle="close the teaching panel (esc or ctrl-d)">close</button>
            </div>
            <span class="helpertext">
              <span id="define_status">
                what you said
              </span>
            <a href="" class="reference_link">But it doesn't work, I need help...</a>
            </span>
          </div>

          <input type="text" id="maintextarea" placeholder="type your command here! e.g. add red if top yellow" maxlength="100"/>
          <div class="buttons" id="mainbuttons">
            <button class="button button--solved" id="dobutton" ctitle="enter command (enter key)">&crarr;</button>
          </div>

          <fieldset class="command-history-container">
            <legend>recipe steps <span id="recipe_steps">(<span class="curr_steps">0</span>/<span class="max_steps">100</span>)</span></legend>
            <div id="command_history"></div>
          </fieldset>
        </div>
      </div>

      <!-- Modals -->
      <div class="modals">
        <div class="modal-container hidden" id="reference">
          <div class="modal" style="overflow-y:scroll;">
            <h1>Help for SHRDLURN (esc to close)</h1>

            <hr><br>
            <p> The goal is to teach SHRDLURN (the computer) to understand more English. You have to define things in a way that can already be understood by SHRDLURN.
              This includes anything that you or others have already taught it,
              as well as the core language below, which it always understands:
              <ul>
                <li><b>number: </b> 0, 1, 2, ..., 9, many</li>
                <li><b>color: </b> red, cyan, brown, yellow, orange</li>
                <li><b>action: </b> remove, add [color] </li>
                <li><b>condition: </b> top [color], row = [number], height &gt; [number], has [color], etc. </li>
                <li><b>if: </b> [action] if [condition]
                  <ul>
                    <li>add red if col = 1 or col = 8 or row = 1 or row = 8</li>
                    <li>add red if row &lt; 3</li>
                    <li>remove if top red</li>
                  </ul>
                </li>
                <li><b>control: </b> [action] then [action], repeat [action] 3 times
                  <ul>
                    <li>repeat remove if has red many times</li>
                    <li>remove then add red if top yellow </li>
                    <li>repeat add red 3 times if top yellow or row &lt; 3 </li>
                    <li>[remove then add red then add red] if height &lt; 1</li>
                    <li>repeat add red then add yellow 5 times if height &gt; 0 </li>
                  </ul>
                </li>
                <li><b>(advanced) relative condition: </b> relativepos_of [condition]
                <ul>
                  <li>add yellow if leftof top red</li>
                  <li>add yellow if rightof col = 3</li>
                  <li>add yellow if backof col = row </li>
                  <li>add yellow if rightof frontof [row = 4 and col = 4]</li>
                </ul>
                </li>
                <li><b>(advanced) extremes: </b> largest X in [condition]
                <ul>
                  <li>add yellow if largest row in all</li>
                  <li>add yellow if smallest col in top red</li>
                </ul>
                </li>
                <li><b>(advanced) inside: </b> inside [[condition]]
                <ul>
                  <li>add red if inside [top red]</li>
                  <li>add red if inside [col = 1 or col = 4]</li>
                  <li>add cyan if inside [ [ row = 1 or row = 4 ] and [col = 1 or col = 4] ] </li>
                </ul>
                </li>
              </ul>
            </p>
            <h3>But it's not accepting my teachings! </h3>
            <ul>
              <li>
                SHRDLURN understands everything in green boxes, blue are words it knows but not used correctly, red are unknowns.</li>
              <li> <span style="color:red;">blah </span>
              <span class="color-good">add red if height &lt; 1 </span>
              <span style="color:blue;" ;="">then </span>
              <span style="color:blue;" ;="">if </span><span style="color:red;">someblah </span>
              <span class="color-good">add red </span>
              <span class="color-good">remove red </span> </li>
              <li> If there are several green boxes, then it understands each box, but not how they are combined. For example, <span class="color-good">add red </span>
              <span class="color-good">remove red </span> needs to be changed to <span class="color-good">add red then remove red </span></li>
              <li> Still, if nothing works, close the definition window and teach something else!</li>
            </ul>
            <p> English is hard for beginners, which is why we need your help teaching SHRDLURN!</p>
            <a class="button--closed" class="close-help" href="" >Okay, got it! (click here or press ESC key to close this window)</a>
          </div>
        </div>
      </div>
      </div>
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Roboto+Condensed:400,700">
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-74509910-1', 'auto');
    ga('send', 'pageview');
    </script>
  </body>
</html>
