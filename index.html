<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
  <meta charset="utf-8" />
  <title>SHRDLURN</title>
  <meta name="author" content="S.W.">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="teach the computer English">
  <link rel="stylesheet" type="text/css" href="dist/main.css">
  <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Roboto+Condensed:400,700">
</head>
<body>
  <div id="container">
    <div id="panel">
      <canvas id="canvastarget" width="200" height="200"></canvas>
      <button id="prev_state" class="button button--big">&larr; prev</button>
      <button id="load_state" class="button button--big">load</button>
      <button id="next_state" class="button button--big">next &rarr;</button>
      <p/>
      <div><b>game points:</b> <span id="game_points"></span></div>
      <br />
      <div id="shortcuts">
        <b>keyboard shortcuts:</b><br/>
        &crarr;: enter (try)
        <br/>
        &#x2713;: shift-enter (accept)
        <br/>
        ~: crtl-d (teach)
        <br/>
        &uarr;: up
        <br/>
        &darr;: down
        <br/>
        &#x238c;: ctrl-z (undo)
        <br />
        &#8618;: ctrl-z-shift (redo)

        <br/>
      </div>
      <p/>
      <div>
        <a id="reset"
        href="">reset ALL progress</a>
        <br>
        <br>
        <a href="" class="reference_link">help me</a>
        <br>
        <br>
        <a href="" class="hidden" id="quit_tutorial">quit tutorial</a>
      </div>
    </div>


  <div id="metaactions" class="buttons">
    <button class="button button--solved" id="flyingaccept"
    ctitle="take this action (shift-enter)">&#x2713;</button>
    <button class="button button--solved (up key)" id="prevbutton"
    ctitle="show previous action">&uarr; </button><br>
    <button class="button button--solved" id="paraphrase"
    ctitle="teach SHRDLURN what you mean">~</button>
    <button class="button button--solved" id="nextbutton"
    ctitle="show next action (down key)">&darr; </button>
  </div>

  <div id="startblocks">before action</div>
  <div id="currentblocks">after action</div>
  <div id="goalblocks">target</div>

  <div class="row-info">col 1</div>
  <div class="col-info">row 1</div>

  <button id="clear_button" class="button button--big">clear</button>

  <canvas id="canvas" width="1100" height="750"></canvas>
  <span id="show_define_status" class="hidden">
    SHRDLRUN does not understand. <br/>
    <a href='' id='define_instead' class='define-this'>
      please teach (ctrl-d)!</a>
  </span>

  <div id="chat" style="center">
    <div id="statusinfo">
      &nbsp; <span id="reaction"></span>
      <span id="currentcmd"><b>No command</b> </span>,
      <span id="status">type one!</span>
    </div>
    <div id="define_interface" class="hidden">
      <span class="b-header">Teach <span id="original_utt" class="utt"></span>
      </span>
      <button class="button--solved button--closed" id="close_define_interface">&#10006;</button>
      <hr/>
      <input type="text" id="definetextarea" placeholder="write a definition here" />
      <button class="button button--big" id="define_phrase_button" ctitle="enter definition (enter key)">enter</button>

      <span class="helpertext">
        <span id="define_phrase">
          <span id="query_phrase">
            what you said
          </span>.
          It has trouble with the <span style="color:rgb(255,0,0);">red</span> words.
          Please rephrase in a way that's already understood by SHRDLRUN! <a href="" class="reference_link">Click here for HELP.</a>
        </span>

        <!-- For example,
        <span class="utt">yellow if height &gt; 3</span> is another way to say
        <span class="utt">put yellow on stacks taller than 3</span>.
        <a href="#"> see more examples. </a> <br/> -->
    </div>
    <input type="text" id="maintextarea" placeholder="type a command, e.g.: add red if top yellow"/>
    <div class="buttons" id="mainbuttons">
      <button class="button" id="dobutton" ctitle="enter command (enter key)">&crarr;</button>
    </div>

    <fieldset class="command-history-container">
      <legend>Recipe Steps</legend>
      <div id="command_history">

      </div>
    </fieldset>
  </div>

  <div class="tutorial" id="tutorial">
    <div class="modal-container tutorial-s active" id="tutorial-s1">
      <div class="modal">
        <h1>Welcome to SHRDLURN</h1>
        <hr>
        <div class="half">
          <p>
            In homage to the seminal work of Winograd (1972) and inspired by Wittgenstein's language games, SHRDLURN is an attempt to teach a computer the nuance of human language. To do so, we need your help to train and teach the computer. In return, you'll be able to interact and engage with a virtual world using nothing but natural language.
          </p>
          <p>
            <a href="" id="skip_tutorial">skip the tutorial</a>
          </p>
        </div>
        <div class="half">
          <img src="pyramid.png" />
          <button class="button button--big button--modal sticky-botright" id="start_tutorial">Let's Get Started &rarr;</button>
        </div>
      </div>
    </div>

    <div class="cover-container tutorial-s" id="tutorial-s2">
      <div class="cover-text">
          <div class="cover-info">
            <h1>Let's get started by making a cool structure!</h1>
            <hr />
            <p>Like any good student, SHRDLURN works by being instructed one step at a time. You can instruct SHRDLURN to build by entering a "recipe step" in normal English in the box below. This will update the "current" blocks with what SHRDLURN thinks you meant by your "recipe step".</p>
            <p>To get started, type "add yellow" in the box below to tell SHRDLURN to add yellow to every square. Then, either hit the enter key or click on the "&crarr;" button.</p>
          </div>
        </div>
    </div>

    <div class="cover-container tutorial-s" id="tutorial-s3">
      <div class="cover-text">
        <div class="cover-info">
          <h1>Awesome!</h1>
          <hr>
          <p>You can see how SHRDLURN interpreted your "recipe step" to mean adding yellow to every square on the first level. But, note, that you must "accept" this intepretation to build upon it in the next step. If SHRDLURN's interpretation was not what you intended, you can either scroll to see if SHRDLURN has an alternative (by using the arrow keys or the &uarr; or &darr; buttons).</p>
          <p>So, accept this interpretation by hitting "shift-enter" or clicking on the highlighted "&#x2713;" button.</p>
        </div>
      </div>
    </div>

    <div class="cover-container tutorial-s" id="tutorial-s4">
      <div class="cover-text">
        <div class="cover-info">
          <h1>Great job!</h1>
          <hr>
          <p>You just saw how you can use natural language to instruct SHRDLURN. But, sometimes you want to give SHRDLURN a "recipe step" that it hasn't learned yet. It knows some basic instructions like "add yellow", "add red if row > 3 and col < 5", or "repeat add orange if row = 4 3 times", but it doesn't know more advanced concepts yet. That's where you come in. You have to teach SHRDLURN the more nuanced language.</p>
          <p>Let's try to add the next layer of orange blocks by typing "add orange except the border".</p>
        </div>
      </div>
    </div>

    <div class="cover-container tutorial-s" id="tutorial-s5">
      <div class="cover-text">
        <div class="cover-info">
          <h1>Yikes! SHRDLURN didn't understand what you meant.</h1>
          <hr>
          <p>Let's teach it what "add orange except the border means". You'll have to do this a lot, but hopefully, SHRDLURN will soon get a good working knowledge of language and recipe steps; so, the more you teach it new steps, the smarter it becomes!</p>
          <p>To open the "teaching interface", either hit "ctrl+d" or click on the highlighted "~" button.</p>
        </div>
      </div>
    </div>

    <div class="cover-container tutorial-s" id="tutorial-s6">
      <div class="cover-text">
        <div class="cover-info">
          <h1>Let's teach SHRDLURN by defining this complex step!</h1>
          <hr />
          <p>Whenever SHRDLURN doesn't understand your instruction, you will need to define it for SHRDLURN. Behind the scenes, SHRDLURN uses a basic grammar that, although at times cumbersome, can be composed to complete basically any action. <a href="" class="reference_link">Click here for a guide.</a> In essence, every time you give SHRDLURN an instruction, it converts your instruction to its grammar. Therefore, in order to teach SHRDLURN a new instruction, the easiest way is to define your instruction in terms of its basic grammar.</p>
          <p>Type "add orange if row &gt; 1 and col &gt; 1 and row &lt; 8 and col &lt; 8" into the box below to teach it the meaning of the phrase.</p>
        </div>
      </div>
    </div>

    <div class="cover-container tutorial-s" id="tutorial-s7">
      <div class="cover-text">
        <div class="cover-info">
          <h1>Amazing! SHRDLURN just learned what "... except the border" means!</h1>
          <hr>
          <p>You just defined the phrase. Now, try it out by typing "add orange except the border" in the highlighted textbox to add the next orange layer of the target structure.</p>
        </div>
      </div>
    </div>

    <div class="cover-container tutorial-s" id="tutorial-s8">
      <div class="cover-text">
        <div class="cover-info">
          <h1>SHRDLURN understands! Now accept it to move on.</h1>
          <hr>
          <p>Wow, this is pretty cool. SHRDLURN can learn complex phrases. As you'll continue to train SHRDLURN after the tutorial, SHRDLURN's potential is unlimited, you just have to teach it step by step. In the future, you can even define new phrases in terms of other things you've taught it.</p>
          <p>For now, let's accept this interpretation of SHRDLURN's (remember if it was wrong, you could either scroll for other interpretations, or define it again).</p>
        </div>
      </div>
    </div>

    <div class="cover-container tutorial-s" id="tutorial-s9">
      <div class="cover-text">
        <div class="cover-info">
          <h1>Now, let's finish it up!</h1>
          <hr>
          <p>To finish up building the target structure, let's define another phrase. Type "add 2 red if row = 4 or row = 5" in the textbox below and hit enter.</p>
        </div>
      </div>
    </div>

    <div class="cover-container tutorial-s" id="tutorial-s10">
      <div class="cover-text">
        <div class="cover-info">
          <h1>As predicted, SHRDLURN doesn't quite understand this instruction.</h1>
          <hr>
          <p>Hit ctrl+d to define it.</p>
        </div>
      </div>
    </div>

    <div class="cover-container tutorial-s" id="tutorial-s11">
      <div class="cover-text">
        <div class="cover-info">
          <h1>This is a pretty powerful tool. Let's define what we mean.</h1>
          <hr />
          <p>In the basic grammar, "add 2 red if row = 4 or row = 5" means "repeat add red if row = 4 or row = 5 2 times". Notice the construction there. Type this in the textbox below and hit enter to teach SHRDLURN.</p>
        </div>
      </div>
    </div>

    <div class="cover-container tutorial-s" id="tutorial-s12">
      <div class="cover-text">
        <div class="cover-info">
          <h1>Great! SHRDLURN learned something new.</h1>
          <hr />
          <p>Let's go ahead and complete the structure by typing "add 2 red if row = 4 or row = 5" in the textbox.</p>
        </div>
      </div>
    </div>

    <div class="cover-container tutorial-s" id="tutorial-s13">
      <div class="cover-text">
        <div class="cover-info">
          <h1>Nifty</h1>
          <hr />
          <p>If this intrepetation is correct, accept it by hitting shift+enter (if not, scroll until it matches the target structure).</p>
        </div>
      </div>
    </div>

    <div class="modal-container tutorial-s" id="tutorial-s14">
      <div class="modal">
        <h1>You've done it! You completed the tutorial.</h1>
        <hr>
        <div class="half">
          <p>Congratulations! Now, you can start building whatever structures you want using natural language.</p>
          <p>Take a look at example structures in the top right corner (scroll through by hitting next) to see if you can come up with a set of recipe instructions to create them. Try to teach SHRDLURN to come as close to natural language as possible.</p>
          <p>Have fun! P.S. You get more points the more structures you create and the more phrases you define!</p>
        </div>
        <button class="button button--big button--modal sticky-botright" id="finish_tutorial">Start building</button>
      </div>
    </div>
  </div>

  </div>

  <div class="hidden" id="tutorial_overlay"></div>

  <div id="debugdiv" class="hidden">
    <div id="formula"> <b>No action</b> </div>
    <div id="nbestlist"> </div>
    <div id="history"> </div>
  </div>

  <div id="turker" style="display:none;margin-top:2em;center;">
    <hr>
    <p>Dear Turker, please click
      the "code" button below after you reach 100 points and paste the code back to AMT.
      <span id="turkmsg"></span>
    </p>
    <button id="turkbutton" class="button"
    style="width:80px;">code</button> <span id="turkcode">(code to appear here)</span>
    <p/>
    <div>
    </div>
  </div>

  <div>
    <div class="modal-container hidden" id="reference">
      <div class="modal">
        <h1>Help for SHRDLURN</h1>
        <button class="button--solved button--closed" id="reference_close">&#10006;</button>
        <hr><br>
        <p> The goal is to teach SHRDLURN (the computer) to understand more English. You have to define things in a way that can already be understood by SHRDLURN.
          This includes anything that you or others have already taught it,
          as well as the core SHRDLURN language below, which it always understands:
          <ul>
            <li><b>colors: </b> red, cyan, brown, yellow, orange</li>
            <li><b>numbers: </b> 0, 1, 2, ..., 9, many</li>
            <li><b>actions: </b> remove, add red</li>
            <li><b>conditional: </b> add red if top yellow, add brown if col = 3, remove if top red, add if has red or row = 3 </li>
            <li><b>combinations: </b> add yellow then add cyan then add red, repeat add cyan 3 times </li>
            <li><b>logic: </b> add yellow if row > 1 and row < 8, repeat add red 2 times if row = 3 or col = 3, [add red then add yellow] if row > 2 if col > 2</li>
          </ul>
        </p>
        <p> English is hard, which is why we need your help teaching SHRDLURN. Thanks and have fun!</p>
      </div>
    </div>
  </div>

  <script type="text/javascript" src="dist/main.js"></script>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-74509910-1', 'auto');
  ga('send', 'pageview');
  </script>
</body>
</html>
